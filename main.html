<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Aimer</title>
        <style>
            footer {
                position: fixed;
                bottom: 0;
                left: 0;
                width: 100%;
            }
        </style>
    </head>
    <body>
        <h1>Welcome to Aimer</h1>
        <h3>In this game you train your aim and reflexes.</h3>
        <h3>Click the button below to start playing!</h3>
        <div id="start-button">
            <button onclick="startGame(1)">Level 1</button>
            <button onclick="startGame(2)">Level 2</button>
            <button onclick="startGame(3)">Level 3</button>
            <button onclick="startGame(4)">Level 4</button>
            <button onclick="startGame(5)">Level 5</button>
            <button onclick="startGame(6)">Level 6</button>
            <button onclick="startGame(7)">Level 7</button>
            <button onclick="startGame(8)">Level 8</button>
            <button onclick="startGame(9)">Level 9</button>
            <button onclick="startGame(10)">Level 10</button>
        </div>
        <button id="click" onclick="clicked()">Click here!</button>
        <script>
            let startButton = document.getElementById("start-button");
            let clickButton = document.getElementById("click");
            let points = 0;
            let end = false;
            let currentLetter = '';
            let letterTimeout;
            let currentLevel = 1;

            function startGame(level) {
                currentLevel = level;
                end = false;
                points = 0;
                startButton.style.display = "none";
                clickButton.style.display = (level === 1) ? "block" : "none";
                if (level === 1) {
                    setTimeout(() => {
                        end = true;
                        clickButton.style.display = "none";
                        alert("Time's up! You scored " + points + " points.");
                        startButton.style.display = "block";
                        points = 0;
                    }, 30000);
                } else {
                    showRandomSymbol();
                    setTimeout(() => {
                        end = true;
                        hideLetter();
                        alert("Time's up! You scored " + points + " points.");
                        startButton.style.display = "block";
                        points = 0;
                    }, 30000);
                }
            }

            function clicked() {
                if (end) return;
                points++;
                clickButton.style.position = "absolute";
                clickButton.style.top = Math.random() * (window.innerHeight - 50) + "px";
                clickButton.style.left = Math.random() * (window.innerWidth - 50) + "px";
            }

            function showRandomSymbol() {
                if (end) return;
                let symbols = "!@#$%&?";
                if (currentLevel === 2) {
                    // Nur Großbuchstaben
                    currentLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                } else if (currentLevel === 3) {
                    // Nur Zahlen
                    currentLetter = String.fromCharCode(48 + Math.floor(Math.random() * 10));
                } else if (currentLevel === 4) {
                    // Großbuchstaben oder Zahlen
                    if (Math.random() < 0.5) {
                        currentLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                    } else {
                        currentLetter = String.fromCharCode(48 + Math.floor(Math.random() * 10));
                    }
                } else if (currentLevel === 5) {
                    // Groß- oder Kleinbuchstaben
                    if (Math.random() < 0.5) {
                        currentLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                    } else {
                        currentLetter = String.fromCharCode(97 + Math.floor(Math.random() * 26));
                    }
                } else if (currentLevel === 6) {
                    // Zahlen oder Kleinbuchstaben
                    if (Math.random() < 0.5) {
                        currentLetter = String.fromCharCode(48 + Math.floor(Math.random() * 10));
                    } else {
                        currentLetter = String.fromCharCode(97 + Math.floor(Math.random() * 26));
                    }
                } else if (currentLevel === 7) {
                    // Groß-, Kleinbuchstaben oder Zahlen
                    let r = Math.random();
                    if (r < 1/3) {
                        currentLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                    } else if (r < 2/3) {
                        currentLetter = String.fromCharCode(97 + Math.floor(Math.random() * 26));
                    } else {
                        currentLetter = String.fromCharCode(48 + Math.floor(Math.random() * 10));
                    }
                } else if (currentLevel === 8) {
                    // Nur Sonderzeichen
                    currentLetter = symbols[Math.floor(Math.random() * symbols.length)];
                } else if (currentLevel === 9) {
                    // Groß-, Kleinbuchstaben, Zahlen oder Sonderzeichen
                    let r = Math.random();
                    if (r < 0.25) {
                        currentLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                    } else if (r < 0.5) {
                        currentLetter = String.fromCharCode(97 + Math.floor(Math.random() * 26));
                    } else if (r < 0.75) {
                        currentLetter = String.fromCharCode(48 + Math.floor(Math.random() * 10));
                    } else {
                        currentLetter = symbols[Math.floor(Math.random() * symbols.length)];
                    }
                } else if (currentLevel === 10) {
                    // Alles gemischt, kürzere Zeit
                    let r = Math.random();
                    if (r < 0.2) {
                        currentLetter = String.fromCharCode(65 + Math.floor(Math.random() * 26));
                    } else if (r < 0.4) {
                        currentLetter = String.fromCharCode(97 + Math.floor(Math.random() * 26));
                    } else if (r < 0.7) {
                        currentLetter = String.fromCharCode(48 + Math.floor(Math.random() * 10));
                    } else {
                        currentLetter = symbols[Math.floor(Math.random() * symbols.length)];
                    }
                }
                let letterDiv = document.getElementById("letter-div");
                if (!letterDiv) {
                    letterDiv = document.createElement("div");
                    letterDiv.id = "letter-div";
                    letterDiv.style.position = "absolute";
                    letterDiv.style.top = "40%";
                    letterDiv.style.left = "50%";
                    letterDiv.style.transform = "translate(-50%, -50%)";
                    letterDiv.style.fontSize = "80px";
                    letterDiv.style.fontWeight = "bold";
                    document.body.appendChild(letterDiv);
                }
                letterDiv.textContent = currentLetter;
                let minTime = (currentLevel === 10) ? 200 : 500;
                let maxTime = (currentLevel === 10) ? 700 : 1500;
                letterTimeout = setTimeout(showRandomSymbol, minTime + Math.random() * (maxTime - minTime));
            }

            function hideLetter() {
                let letterDiv = document.getElementById("letter-div");
                if (letterDiv) letterDiv.remove();
                clearTimeout(letterTimeout);
                currentLetter = '';
            }

            document.addEventListener("keydown", function(e) {
                if (end) return;
                // Für Sonderzeichen: e.key gibt das Zeichen direkt zurück
                if (currentLetter && (
                    e.key === currentLetter ||
                    e.key.toUpperCase() === currentLetter ||
                    e.key.toLowerCase() === currentLetter
                )) {
                    points++;
                    hideLetter();
                    showRandomSymbol();
                }
            });
        </script>
        <footer style="justify-content: flex-end;">
            <p>Created by Therogames</p>
            <p>Created with ❤️ by <a href="https://github.com/therohero">https://github.com/therohero</a></p>
        </footer> 
    </body>
</html>